!function(e){function t(t){for(var i,r,s=t[0],c=t[1],l=t[2],u=0,f=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(d&&d(t);f.length;)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={1:0},a=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/public/dist/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;a.push([11,0]),n()}({11:function(e,t,n){"use strict";n.r(t);var i=n(0),o={init:function(e,t){},defaultValidator:{ignore:".ignore:hidden,.ignore",rules:{userAccount:{required:!0,maxlength:50},userPassword:{required:!0,unBlank:!0,rangelength:[6,20]},captcha:{required:!0,isImgCaptcha:!0}},messages:{userAccount:{required:"账号不能为空",maxlength:"用户名长度超过{0}位!"},userPassword:{required:"密码不能为空",rangelength:"新密码长度需在6-20字符之间"},captcha:{required:"验证码不能为空",isImgCaptcha:"验证码错误或已过期"}},errorPlacement:function(e,t){t.closest(".form-item").append(e)},success:function(e){return e.remove(),!0}},done:function(e,t){if(Cookies.set("per",e.data.token,{domain:"job5156.com"}),t)this.goto(e);else if(e.data.isMobileActivated){var n=$("#ref").val();n?"/"===n?this.goto(e):location.href=n:this.goto(e)}else common.fn.verifyPhone(e.data.mobile,!0)},goto:function(e){if(!e.data.isBasicComplete)return location.href="/per/new/step1",!1;0!==e.data.pass&&e.data.isIntentInComplete&&e.data.isWorkComplete&&e.data.isEducationComplete?$("#perLoginModal").length?$.jBox.close("perLoginModal"):"login/per"!==location.pathname&&"/register/per"!==location.pathname||(location.href="/"):location.href="/per/resume/"},thirdLogin:function(){$("body").on("click",".third_box [data-type]",function(){var e=$(this).data("type"),t={done:function(e){window.location.href=e.url},doneOtherCode:function(){$.jBox.tip(res.msg,"error")}};common.fetch("/connect/login/".concat(e),t,"get")})}},a={init:function(){var e=$(".btn-get-code");this.formatMobile(),$(".loginBtn").off().on("click",function(){$(this).closest("form").submit()}),$("#reg_form").on("keyup",function(e){13===e.keyCode&&$("#reg_form").submit()}),e.off().click(function(){if(e.hasClass("disabled"))return!1;var t=$("#mobile");if(!t.valid())return!1;e.addClass("disabled").text("获取中...");var n={data:{mobile:$.trim(t.val()),isCheckAccount:!1},done:function(t){var n;n=60,e.text("动态码已发送"),setTimeout(function t(){e.text(n+"S"),--n>=0?setTimeout(t,1e3):e.text("重新获取").removeClass("disabled")},1e3)},doneOtherCode:function(t){e.text("获取动态码").removeClass("disabled"),$.jBox.error(t.msg,"提示")},error:function(){e.text("获取动态码").removeClass("disabled"),$.jBox.error("服务器繁忙","提示")}};common.fetch("/verify/dynamic/login",n,"get")}),$("#reg_form").validate({ignore:".ignore:hidden,.ignore",rules:{mobile:{required:!0,isMobile:!0},dynamicCode:{required:!0,isCaptcha:!0}},messages:{mobile:{required:"手机号不能为空",isMobile:"手机号格式不正确"},dynamicCode:{required:"短信验证码不能为空",isCaptcha:"请输入正确的短信验证码!"}},errorPlacement:function(e,t){t.closest(".form-item").append(e),t.is("[name=mobile]")&&t.siblings("input[type=text]").addClass("error")},success:function(e){return e.remove(),!0},submitHandler:function(e){var t=$(e).find(".btn-submit");if(!t.prop("disabled")){t.prop("disabled",!0).text("登录中...");var n={data:JSON.stringify({mobile:$.trim($("#mobile").val()),dynamicCode:$("#dynamic_code").val(),loginType:"dynamic",loginWay:"pc",isAutoRegister:1,isAutoRegain:$("#isAutoRegain").val()}),contentType:"application/json; charset=UTF-8",done:function(e){loginPw.done(e,!0),header.checkLogin()},doneOtherCode:function(e){if(t.prop("disabled",!1).text("求职注册/登录"),e.fail){var n=e.data.regainAccountInfo.mobile,i=e.data.regainAccountInfo.age,o=e.data.regainAccountInfo.gender,a=e.data.regainAccountInfo.workInfo.comName;n="".concat(n.substring(0,3),"****").concat(n.substring(7));for(var r="",s=0;s<e.data.regainAccountInfo.name.length-1;s++)r+="*";var c=e.data.regainAccountInfo.name.substring(0,1)+r,l=' \n                                        <div class="claim-box">\n                                            <p>手机'.concat(n," 已有一份简历，请核对信息所属。</p>\n                                            <p>").concat(c," ").concat(1==o?"先生":"小姐","&#12288;&#12288;").concat(i,"岁</p>\n                                            <p>曾就职于：").concat(a,'</p>\n                                            <div class="btn-box">\n                                                <a class="btn-claim active disabled ">认领并登录（<span id="js_times">5</span>s）</a>\n                                                <a class="btn-submit">注册新简历</a>\n                                            </div>\n                                        </div>\n                                    ');$.jBox(l,{title:"旧账号简历认领",width:430,buttons:{},loaded:function(){var e=$(".claim-box"),t=e.find("#js_times");common.fn.loadSecond(t,5,function(){t.parent("a").removeClass("disabled").html("认领并登录")}),e.find(".btn-claim").click(function(){$(this).is(".disabled")||($("#isAutoRegain").val(1),$("#reg_form").submit(),$.jBox.close())}),e.find(".btn-submit").click(function(){$("#isAutoRegain").val(0),$("#reg_form").submit(),$.jBox.close()})}})}else $.jBox.error(e.msg||"当前网络不可用，请检查您的网络设置。","提示"),$("#dynamic_code").val("")},error:function(){$.jBox.error("请求超时，请稍后再试！","提示"),t.prop("disabled",!1).text("求职注册/登录")}};common.fetch("/session/per/dynamic",n,"post")}}})},formatMobile:function(){var e=$(".mobileShow"),t=$("#mobile"),n=$(".btn-get-code");e.keypress(function(e){if(8!=e.keyCode){var t=$(this),n=t.val();3!=n.length&&8!=n.length||t.val(n+"-")}}).keyup(function(){t.val($(this).val().replace(/-/g,"")),t.valid()?n.removeClass("disabled"):n.addClass("disabled")})}},r={init:function(){console.log("2333"),this.login_form.init(),this.searchBar(),this.sidebar.init(),this.checkLogin(),this.logOut(),this.otherEvent(),this.city_site(),o.thirdLogin(),this.Hr_helper_entrance(),this.searchBox.init()},otherEvent:function(){var e=$(".job-state");e.hover(function(){e.addClass("active").children(".dropdown-menu").show()},function(){e.removeClass("active").children(".dropdown-menu").hide()}).on("click","li",function(){var t=$(this);if(e.data("load"))e.data("load",!1),o();else{var n={data:{jobState:t.data("val")},done:function(e){o(),$.jBox.tip("修改成功！","success")},doneOtherCode:function(e){$.jBox.error("修改失败！请稍后重试","提示")}};i.a.fetch("/per/jobState",n,"put")}function o(){t.addClass("active").siblings("li").removeClass("active"),e.children(".text").text(t.text()),e.children(".dropdown-menu").hide()}}),$("body").on("click",".img-captcha",function(){var e=$(this).attr("src").split("?")[0]+"?t="+(new Date).getTime();$(this).attr("src",e).siblings("input[type=text]").val("")}).on("click",".isSeePw",function(){var e=$(this).siblings("input");$(this).is(".canSee")?($(this).removeClass("canSee"),"text"==e.attr("type")&&e.attr("type","password")):($(this).addClass("canSee"),"password"==e.attr("type")&&e.attr("type","text"))}),$(".login-per-dialog").on("click",function(){i.a.perLoginModal(function(){})}),$(document.body).on("click",".btn-apply",function(){var e=$(this),t=e.attr("data-id");e.hasClass("disabled")||i.a.per.apply(t,function(t){e.text("已投递").addClass("disabled")},"pc_index")})},logOut:function(){$("#logout").on("click",function(){var e={done:function(){Cookies.remove("per"),window.location.reload()},doneOtherCode:function(){$.jBox.error(data.msg,"提示")},error:function(){$.jBox.error("请求超时，请稍后再试！","提示")}};i.a.fetch("/session/per",e,"delete")})},checkLogin:function(){var e=this;i.a.checkLogin(function(t){if(200===t.code){window.isLogin=!0;var n=$(".user-msg-box");$(".btn-login-reg").remove(),$("#user_msg").removeClass("hidden"),$(".user-name").removeClass("hidden").text(t.data.perUserName||t.data.mobile),n.find(".caret-bottom").removeClass("hidden"),$(".left-box").find(".mask-layer").remove(),e.getNoticeAmount(),e.getResumeList(),$(".user-msg-cont").fadeIn("slow"),$(".login-cont").remove()}else $(".login-cont").fadeIn("slow")})},getNoticeAmount:function(){var e={done:function(e){e.data&&(e.data.inviteUnreadCount?$(".interview-numbs").text(e.data.inviteUnreadCount):$(".interview-numbs").remove(),e.data.viewUnreadCount?$(".check-numbs").text(e.data.viewUnreadCount):$(".check-numbs").remove(),e.data.msgUnreadCount?$(".letter-numbs").text(e.data.msgUnreadCount):$(".letter-numbs").remove())}};i.a.fetch("/per/noticeAmount",e,"get")},getResumeList:function(){var e=this,t={done:function(t){e.getResume(t.data.defaultId)}};i.a.fetch("/per/resume",t,"get")},getResume:function(e){var t={done:function(e){var t=e.data.resumeDetail.freshness,n=Math.round(e.data.resumeDetail.perfectNum),i=e.data.resumeDetail.basicInfoVo.gender,o=e.data.resumeDetail.basicInfoVo.photoUrl,a=e.data.resumeDetail.basicInfoVo.jobState;o||(o="http://my.job5156.com/public/images/".concat(1===i?"boy":"girl",".jpg")),1===i?$(".iconnan").show().siblings(".iconnv").hide():$(".iconnv").show().siblings(".iconnan").hide(),$(".res-freshness").text(100*t),$(".res-freshness-bar").width(100*t+"%"),$(".res-perfectNum").text(n),$(".res-perfectNum-bar").width(n+"%"),$(".user-photo img").attr("src",o),$(".job-state").data("load",!0),$(".job-state .dropdown-menu [data-val="+a+"]").click()}};i.a.fetch("/per/resume/".concat(e),t,"get")},login_form:{init:function(){var e=0,t=$("#login_form");i.a.isIE()&&$(".isSeePw").remove(),$(".btn-download-app").click(function(){var e=$(".pic-app-download"),t=0,n=$(this);n.hasClass("close")?t="-100%":(t="0",e.show()),e.children("div").animate({top:t},"fast",function(){n.hasClass("close")&&e.hide()})}),$(".btn-change-form a").click(function(){var t=0;e%2==0?(t=$("#reg_form").outerWidth(),$("#reg_form").removeClass("active").siblings("form").addClass("active")):(t=0,$("#reg_form").addClass("active").siblings("form").removeClass("active")),e++,$(".login-form-content").animate({left:-t},"fast")}),$(".btn-submit").click(function(){$(this).closest("form").submit()}),$("#reg_form,#login_form").on("keyup",function(e){13===e.keyCode&&$(this).submit()}),a.init(),t.validate($.extend({submitHandler:function(e){var n=$(e).find(".btn-submit");if(!n.hasClass("disabled")){n.addClass("disabled").text("登录中...");var a={data:JSON.stringify({userAccount:$.trim(t.find("#user_account").val()),userPassword:t.find("#user_password").val(),loginType:"web",loginWay:"pc",captcha:t.find("#img_captcha").val()}),contentType:"application/json; charset=UTF-8",done:function(e){o.done(e,!1),r.checkLogin()},doneOtherCode:function(e){if(n.removeClass("disabled").text("登录"),e.data.showCaptcha){$.jBox.tip(e.msg,"error");var i='\n                                                <div class="form-item img-captcha-item2">\n                                                    <img class="img-captcha" src="'.concat($("#eyasApi").val(),"/verify/image?t=").concat((new Date).getTime(),'" title="看不清？换一个">\n                                                    <input type="text" placeholder="请输入图片验证码">\n                                                    <label class="error" style="display: none">图片验证码不能为空</label>\n                                                </div>\n                                            ');$.jBox(i,{id:"img_captcha_modal",title:"图片验证码",height:"100",buttons:{"取消":"cancel","确定":"ok"},submit:function(e){var n=$("#img_captcha_modal").find(".img-captcha-item2"),i=n.find("input[type=text]").val();if("ok"===e){if(!i)return n.children("label").text("图片验证码不能为空").show(),!1;t.find("#img_captcha").val(i),t.submit()}},loaded:function(){var e=$("#img_captcha_modal").find(".img-captcha-item2"),t=/^[0-9a-zA-Z]{4}$/;e.find("input[type=text]").on("input propertychange change",function(){$(this).val()?t.test($(this).val())?e.children("label").text("").hide():e.children("label").text("验证码错误或已过期").show():e.children("label").text("图片验证码不能为空").show()})}})}else $.jBox.error(e.msg,"提示"),t.find("#img_captcha").val("")},error:function(){$.jBox.error("请求超时，请稍后再试！","提示"),n.addClass("disabled").val("登录")}};i.a.fetch("/session/per/account",a,"post")}}},o.defaultValidator))}},searchBar:function(){var e=$("#searchForm");if(0!=e.length){var t=e.find('[name="searchCityName"]');i.a.fn.searchHandle.btnSearch(e,"pos"),$("#key_type_sel").selDropDown({type:null,data:[{id:0,name:"全文"},{id:1,name:"职位"},{id:2,name:"公司"}],defValue:0}),$(".key_type_list").on("click","li",function(){$(this).addClass("selected").siblings("li").removeClass("selected"),$("#keyTypeName").val($(this).data("value"))}),$("#btn_searchCity").localitiesSelector({color:"#f6ab00",selectType:"checkbox",selectParent:!0,maskModal:!1,closed:function(){$("#btn_searchCity").attr("title",t.val())}})}},searchBox:{timer:null,timeOut:200,init:function(){var e=this,t=$("#page_name").val()||"",n="",o=$(".search_tip_cont"),a=$("#keyword");t&&"index"!=t&&"search"!=t&&"school"!=t||(a.off().on("input propertychange click",function(){$(this).is(":focus")&&(n=$.trim($(this).val()),clearTimeout(e.timer),e.timer=setTimeout(function(){e.loadSearchTip(n)},e.timeOut))}).keydown(function(t){if(!o.is(":visible")||38!==t.keyCode&&40!==t.keyCode||(e.arrow(t),i.a.isIE(8)?a.unbind("propertychange").val($(".search_tip_content>li.keyHover").html()).bind("propertychange",function(){var t=$.trim($(this).val());clearTimeout(e.timer),e.timer=setTimeout(function(){e.loadSearchTip(t)},e.timeOut)}):a.val($(".search_tip_content>li.keyHover").html())),13==t.keyCode){var n=$(".search_tip_content .keyHover").data("kwtype")?$(".search_tip_content .keyHover").data("kwtype"):"1";logPerBehavWeb("search:pos:keywordInput",$("#searchForm").attr("action"),{keyword:$("#keyword").val(),keywordFromSource:n})}}),o.on("click","li",function(){var e=$(this);e.addClass("hover"),$("#keyword").val(e.html()),o.hide(),$("[data-st]").click()}),$(document.body).on("click",function(e){var t=(e=e||event).srcElement?e.srcElement:e.target;$(t).is(".search_tip_cont,#keyword")||o.is(":visible")&&o.hide()}))},loadSearchTip:function(e){var t={data:{word:e},done:function(t){var n=t.data,i=$(".search_tip_cont");if(n)if(n.hotWords||n.historyWords){n.isLogin=n.isLogin?n.isLogin:window.isLogin;var o="",a="",r="",s="";if(e){if(a="猜你想要",n.isLogin){var c=n.historyWords?n.historyWords.slice(0,2):[],l=n.hotWords?n.hotWords.slice(0,8):[];r=c.concat(l)}else r=n.hotWords;s="2"}else n.isLogin?(a="搜索历史",r=n.historyWords,s="3"):(a="热门职位",r=n.hotWords,s="4");$.isArray(r)&&0!=r.length?($.each(r,function(e,t){e>9||(o+="<li data-kwtype='"+s+"'>"+t+"</li>")}),$(".search_tip_content").html(o),$(".nav_word").html(a),i.show()):i.hide()}else i.is(":visible")&&i.hide()}};i.a.fetch("/pos/associate",t,"get")},arrow:function(e){var t=$(".search_tip_content>li.keyHover");0==t.length?(38===e.keyCode&&$(".search_tip_content>li:last").addClass("keyHover"),40===e.keyCode&&$(".search_tip_content>li:first").addClass("keyHover")):1==$(".search_tip_content>li").length?$(".search_tip_content>li:first").addClass("keyHover"):(38===e.keyCode&&(0==t.index()?$(".search_tip_content>li:last").addClass("keyHover").siblings("li").removeClass("keyHover"):t.prev("li").addClass("keyHover").siblings("li").removeClass("keyHover")),40===e.keyCode&&(t.index()==$(".search_tip_content>li").length-1?$(".search_tip_content>li:first").addClass("keyHover").siblings("li").removeClass("keyHover"):t.next("li").addClass("keyHover").siblings("li").removeClass("keyHover")))}},sidebar:{init:function(){this.toTop(),this.kefu_consult(),$(".feedback").on("click",function(){i.a.fn.feedbackPop()})},toTop:function(){var e=null,t=!0;$(window).scroll(function(){t||clearInterval(e),t=!1}),$(".to-top").on("click",function(){clearInterval(e),e=setInterval(function(){var n=$(document).scrollTop(),i=Math.floor(-n/8);0==n&&clearInterval(e),$(document).scrollTop(n+i),t=!0},1e3/60)})},kefu_consult:function(){$(".box-53kf").click(function(){window.open("https://tb.53kf.com/code/client/9007928/1","kefu","height=600, width=800, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no")})}},city_site:function(){i.a.getDictionary("dictionary/site","citySite",function(e){if(e){var t=$("#cityEn").val(),n="全国",i=' <li><a href="/" class="'.concat(t?"":"select",'" title="全国">全国</a></li>');$.each(e,function(e,o){i+='<li><a href="/'.concat(o.en,'/" class="').concat("item.en"==t?"select":"",'" title="').concat(o.name,'">').concat(o.name,"</a></li>"),t&&"item.en"==t&&(n=o.name)});var o='\n                    <div class="city_site_cont">\n                        <div class="city_site_box">\n                            <div class="header">\n                                切换城市\n                                <i class="icon-close_btn_02" id="close_city_site"></i>\n                            </div>\n                            <div class="city_site_content">\n                                <p class="intro">亲爱的用户您好：<br>切换城市分站，让我们为您提供更准确的职位信息。</p>\n                                <p class="now_site"><i class="icon-address_icon_02"></i>&nbsp;当前定位：<span>'.concat(n,'</span>，或者切换到以下站点\n                                </p>\n                                 <ul class="city_site_list">').concat(i,"</ul>\n                            </div>\n                        </div>\n                    </div>\n                ");$("body").append(o);var a=$(".city_site_cont");$(".btn-show-site").click(function(){a.fadeIn()}),$("#close_city_site").click(function(){a.fadeOut("fast")})}})},Hr_helper_entrance:function(){var e=$(".Hr_helper_entrance");if(0!=e.length){var t={done:function(t){var n=t.data;if(n.hrChatbotEnabled&&!(!n||$.isEmptyObject(n)||n.unchattedPosNum<=0)){var i=' <div> \n                                <img src="/public/images/icon/user_default_gril.png">\n                                <div>\n                                    <p>有<span class="msg_num">'.concat(n.unchattedPosNum,'</span>家企业HR希望与你<a href="/per?hr=1&t=').concat((new Date).getTime(),'">面试</a></p>\n                                    <i class="close_entrance">&times;</i>\n                                </div>\n                            </div>');e.addClass("active").html(i).fadeIn(function(){setTimeout(function(){e.animate({width:"70px"},"slow").find(".close_entrance").click(function(){e.fadeOut(function(){e.remove()})})},1e3)}).hover(function(){e.stop().animate({width:"340px"})},function(){e.stop().animate({width:"70px"})})}}};i.a.fetch("/per/hrChatbot/jobsNew",t,"get")}}};r.init()}});
//# sourceMappingURL=header.js.map?t=e92aac8f